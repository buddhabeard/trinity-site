---
import Layout from "../layouts/Layout.astro";
import PageHero from "../components/PageHero.astro";
import fetchApi from "../lib/strapi";
import type { DonatePage } from "../interfaces/Pages";
import { donatePageQuery } from "../lib/queries";
import Container from "../components/Container.astro";
import PageHeadingRouter from "../components/PageHeadingRouter.astro";
import VolunteerForm from "../components/VolunteerForm.astro";
import KindfulForm from "../components/KindfulForm.astro";
import ContactForm from "../components/ContactForm";

const page = await fetchApi<DonatePage>({
  endpoint: "donation-page",
  query: donatePageQuery,
});
---

<Layout title="Donate">
  <main class="page-donate">
    <!-- hero -->
    {page.data?.attributes?.hero && <PageHero {...page.data.attributes.hero} />}

    <Container isSection>
      <div class="flex mt-16">
        <!-- spirit blurb -->
        <div
          class="lg:w-2/3 mb-4 lg:mb-0 text-darkBlue text-4xl font-extrabold font-inter leading-10"
        >
          The Spirit of Giving: Ways to Give
        </div>
        <div
          class="lg:w-1/2 text-gray-500 text-xl font-normal font-inter leading-7 mb-8"
        >
          As a dedicated nonprofit driven by Christian principles, we have
          consistently centered our efforts on faith and Christ-centered values.
        </div>
      </div>

      <div class="flex items-start">
        <!-- sidebar routes -->
        <div
          class="hidden lg:block pb-5 h-[calc(100vh-500px)] lg:w-1/4 lg:mb-12 page-router"
        >
          <PageHeadingRouter
            headingId="kindful-form"
            heading="Donate Goods"
            borderColor="teal"
          >
            Lost, then Found is our non-profit thrift store
          </PageHeadingRouter>

          <PageHeadingRouter
            headingId="volunteer-form"
            heading="Donate Time"
            borderColor="darkBlue"
          >
            Volunteering opportunities with Trinity Life Ministry
          </PageHeadingRouter>

          <PageHeadingRouter
            headingId="kindful-form"
            heading="Donate Funds"
            borderColor="green"
          >
            Your monetary contributions always go to a good cause
          </PageHeadingRouter>

          <PageHeadingRouter
            headingId="contact-form"
            heading="Contact Us"
            borderColor="limeGreen"
          >
            Reach out with questions and inquiries
          </PageHeadingRouter>
        </div>

        <div
          class="flex flex-wrap w-full lg:w-3/4 p-4 lg:p-8 lg:pt-0 page-right"
        >
          <!-- content -->
          {
            page.data?.attributes?.content && (
              <div class="content" set:html={page.data.attributes.content} />
            )
          }

          <!-- forms -->
          <VolunteerForm />

          <KindfulForm />

          <ContactForm client:only />
        </div>
      </div>
    </Container>
  </main>
</Layout>../components/ContactForm.tsx
